<%# locals: (title:, back_path: nil) %>

<%= modal do %>
  <div class="flex flex-col w-screen max-w-xl -mt-5 sm:-mt-0 h-screen sm:h-auto bg-container sm:bg-transparent" data-controller="list-keyboard-navigation list-filter">
    <div class="border-b border-alpha-black-25 p-4 text-gray-800 flex items-center space-x-3">
      <% if back_path %>
        <%= link_to back_path, class: "flex w-8 h-8 shrink-0 grow-0 items-center justify-center rounded-lg bg-alpha-black-50 focus:outline-gray-300 focus:outline" do %>
          <%= lucide_icon("arrow-left", class: "text-secondary w-5 h-5") %>
        <% end %>
      <% end %>

      <div class="relative flex items-center w-full">
        <input placeholder="<%= title %>" autocomplete="nope" type="search" class="placeholder:text-sm placeholder:text-secondary text-primary font-normal h-8 relative pl-8 w-full border-none rounded-lg" data-list-filter-target="input" data-action="list-filter#filter">
        <%= lucide_icon("search", class: "w-4 h-4 text-secondary ml-2 absolute left-0") %>
        <%= lucide_icon("x", class: "cursor-pointer mx-2 w-6 h-6 text-secondary", data: { action: "mousedown->modal#close" }) %>
      </div>
    </div>

    <div class="p-2">
      <button hidden data-controller="hotkey" data-hotkey="k,K,ArrowUp,ArrowLeft" data-action="list-keyboard-navigation#focusPrevious">Previous</button>
      <button hidden data-controller="hotkey" data-hotkey="j,J,ArrowDown,ArrowRight" data-action="list-keyboard-navigation#focusNext">Next</button>

      <%= yield %>
    </div>

    <div class="border-t border-alpha-black-25 p-4 text-secondary text-sm hidden sm:flex justify-between">
      <div class="flex space-x-5">
        <div class="flex items-center space-x-2">
          <span>Select</span>
          <kbd class="bg-alpha-black-50 shadow-[inset_0_-1px_0_0_rgba(0,0,0,0.1)] p-1 rounded-md flex w-5 h-5 shrink-0 grow-0 items-center justify-center"><%= lucide_icon("corner-down-left", class: "inline w-3 h-3") %></kbd>
        </div>
        <div class="flex items-center space-x-2">
          <span>Navigate</span>
          <kbd class="bg-alpha-black-50 shadow-[inset_0_-1px_0_0_rgba(0,0,0,0.1)] p-1 rounded-md flex w-5 h-5 shrink-0 grow-0 items-center justify-center"><%= lucide_icon("arrow-up", class: "inline w-3 h-3") %></kbd>
          <kbd class="bg-alpha-black-50 shadow-[inset_0_-1px_0_0_rgba(0,0,0,0.1)] p-1 rounded-md flex w-5 h-5 shrink-0 grow-0 items-center justify-center"><%= lucide_icon("arrow-down", class: "inline w-3 h-3") %></kbd>
        </div>
      </div>
      <div class="flex items-center space-x-2">
        <button data-action="modal#close">Close</button>
        <kbd class="bg-alpha-black-50 shadow-[inset_0_-1px_0_0_rgba(0,0,0,0.1)] p-1 rounded-md flex w-8 h-5 shrink-0 grow-0 items-center justify-center text-xs">ESC</kbd>
      </div>
    </div>
  </div>
<% end %>
